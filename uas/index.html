<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <title>Aplikasi Login PBO - Login</title>

    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;800&display=swap" rel="stylesheet">

    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Cinzel', serif;
            background:
                linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.9)),
                radial-gradient(circle at top, #5a0000, #000);
            height: 100vh;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #f5e6c8;
        }

        .title {
            position: absolute;
            top: 40px;
            font-size: 28px;
            letter-spacing: 3px;
            color: #c00000;
            text-shadow: 0 0 15px #800000;
        }

        .subtitle {
            position: absolute;
            top: 85px;
            font-size: 12px;
            letter-spacing: 2px;
            color: #f5e6c8;
            opacity: 0.8;
        }

        .box {
            background: rgba(10, 0, 0, 0.9);
            border: 3px solid #800000;
            padding: 30px;
            width: 360px;
            border-radius: 6px;
            text-align: center;
            box-shadow: 0 0 30px rgba(192, 0, 0, 0.5);
        }

        h2 {
            margin-bottom: 25px;
            color: #c00000;
            font-size: 18px;
            letter-spacing: 2px;
        }

        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background: #1a0000;
            border: 2px solid #800000;
            color: #f5e6c8;
            font-family: 'Cinzel', serif;
            font-size: 14px;
            outline: none;
        }

        input::placeholder {
            color: #d8c8a0;
            opacity: 0.7;
        }

        button {
            width: 100%;
            padding: 14px;
            margin-top: 18px;
            background: #c00000;
            border: none;
            color: #fff;
            font-family: 'Cinzel', serif;
            font-size: 14px;
            letter-spacing: 2px;
            cursor: pointer;
            transition: 0.2s;
        }

        button:hover {
            background: #900000;
            box-shadow: 0 0 15px #c00000;
            transform: translateY(-2px);
        }

        #welcome {
            font-size: 16px;
            margin-bottom: 25px;
            color: #f5e6c8;
            letter-spacing: 2px;
        }

        .warning {
            font-size: 10px;
            margin-top: 20px;
            opacity: 0.6;
            letter-spacing: 1px;
        }
    </style>
</head>

<body>

    <div class="title">LOGIN</div>
    <div class="subtitle">PBO AUTHENTICATION SYSTEM</div>

    <div class="box" id="loginBox">
        <h2>OUTLAW LOGIN</h2>
        <input type="text" id="username" placeholder="Masukan Username">
        <input type="password" id="password" placeholder="Masukan Password">
        <button onclick="login()">Login</button>
        <div class="warning">PROPERTY BY RAKHA PASHA</div>
    </div>

    <div class="box" id="userBox" style="display:none;">
        <h2 id="welcome"></h2>
        <button onclick="logout()">Logout</button>
    </div>

    <script>
        class User {
            constructor(username, password) {
                this.username = username;
                this.password = password;
            }
        }

        class AuthApp {
            constructor() {
                this.storageKey = "users";
                this.currentUser = null;
                this.initDB();
            }

            initDB() {
                if (!localStorage.getItem(this.storageKey)) {
                    const users = [
                        new User("admin", "123"),
                        new User("user", "user123"),
                        new User("user1", "123"),
                        new User("rakha", "rakha123")
                    ];
                    localStorage.setItem(this.storageKey, JSON.stringify(users));
                }
            }

            getUsers() {
                return JSON.parse(localStorage.getItem(this.storageKey)) || [];
            }

            login() {
                const username = document.getElementById("username").value.trim();
                const password = document.getElementById("password").value.trim();

                if (!username || !password) {
                    alert("Username Dan Password Harus Di Isi!");
                    return;
                }

                const users = this.getUsers();
                const found = users.find(
                    u => u.username === username && u.password === password
                );

                if (found) {
                    this.currentUser = found;
                    this.showUserView();
                } else {
                    alert("Gagal Login! Username Tidak Ditemukan.");
                }
            }

            logout() {
                this.currentUser = null;
                document.getElementById("username").value = "";
                document.getElementById("password").value = "";
                this.showLoginView();
            }

            showUserView() {
                document.getElementById("loginBox").style.display = "none";
                document.getElementById("userBox").style.display = "block";
                document.getElementById("welcome").innerText =
                    `Hai, ${this.currentUser.username.toUpperCase()}`;
            }

            showLoginView() {
                document.getElementById("loginBox").style.display = "block";
                document.getElementById("userBox").style.display = "none";
            }
        }

        const app = new AuthApp();

        function login() {
            app.login();
        }

        function logout() {
            app.logout();
        }
    </script>
</body>

</html>
